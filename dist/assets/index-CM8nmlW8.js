const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-pdf-3WSohUOQ.js","assets/vendor-dQHSHOEt.js","assets/FeelingPage-BNt5yKAT.js","assets/vendor-react-B34eQvAi.js","assets/vendor-framer-motion-cuc11a3j.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,U as b,H as N,R as S,a as w}from"./vendor-react-B34eQvAi.js";import{_ as y}from"./vendor-pdf-3WSohUOQ.js";import{$ as f}from"./vendor-dQHSHOEt.js";import{X as C}from"./vendor-dexie-BzTPWI4a.js";import{m as j}from"./vendor-framer-motion-cuc11a3j.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function h(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=h(t);fetch(t.href,s)}})();function R({onStart:i,initial:r,visible:h=!0}){const[a,t]=o.useState(r?.fontSize??16),[s,c]=o.useState(r?.highContrast??!1),[u,g]=o.useState(r?.tts??!1);return e.jsx("div",{className:"device-center",children:e.jsx("div",{className:"device",style:{fontSize:a,fontFamily:"Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial",background:"var(--card)",borderRadius:"var(--rounded-device)",boxShadow:"0 10px 32px rgba(16,24,40,0.12)"},children:e.jsxs("div",{className:"journal-card",style:{borderRadius:20,boxShadow:"0 6px 24px rgba(16,24,40,0.10)",padding:"2.5rem 2rem",maxWidth:380,margin:"0 auto"},children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,margin:0,letterSpacing:"-0.5px",fontFamily:"inherit"},children:"Welcome to Kindred Echo"}),e.jsx("p",{className:"muted",style:{marginTop:10,fontSize:"1.1rem",fontWeight:500,letterSpacing:"-0.1px"},children:"Your space to reflect and connect"}),e.jsxs("div",{style:{marginTop:28,display:"grid",gap:18},children:[e.jsxs("label",{style:{display:"block",marginBottom:0},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:500},children:"Font size"}),e.jsx("input",{type:"range",min:14,max:24,value:a,onChange:l=>t(Number(l.target.value)),style:{width:"100%",accentColor:"var(--accent)",height:4,borderRadius:8}})]}),e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,padding:"6px 0"},children:[e.jsx("span",{style:{fontWeight:500},children:"High contrast"}),e.jsx("input",{type:"checkbox",checked:s,onChange:l=>c(l.target.checked),style:{width:20,height:20,accentColor:"var(--accent)"}})]}),e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,padding:"6px 0"},children:[e.jsx("span",{style:{fontWeight:500},children:"Text-to-speech"}),e.jsx("input",{type:"checkbox",checked:u,onChange:l=>g(l.target.checked),style:{width:20,height:20,accentColor:"var(--accent-2)"}})]})]}),e.jsx("div",{style:{marginTop:32,textAlign:"center"},children:e.jsx("button",{onClick:()=>i({fontSize:a,highContrast:s,tts:u}),className:"cta",style:{fontSize:"1.1rem",borderRadius:14,fontWeight:700,boxShadow:"0 2px 8px rgba(247,198,191,0.18)",padding:"1rem 2.2rem",letterSpacing:"0.01em",border:"none",outline:"none",margin:0,cursor:"pointer",transition:"background 0.15s"},children:"Begin Your Journey"})})]})})})}const x=new C("kindred_echo_db");x.version(1).stores({notes:"id, createdAt"});function T({flow:i}){const[r,h]=o.useState([]),[a,t]=o.useState(""),[s,c]=o.useState("");o.useEffect(()=>{u()},[]);async function u(){const n=await x.notes.toArray();h(n.reverse())}async function g(){a.trim()&&(await x.notes.add({id:crypto.randomUUID(),text:a,tags:s?[s]:[],createdAt:new Date().toISOString()}),t(""),c(""),u())}async function l(){const{jsPDF:n}=await y(async()=>{const{jsPDF:d}=await import("./vendor-pdf-3WSohUOQ.js").then(m=>m.j);return{jsPDF:d}},__vite__mapDeps([0,1])),p=new n;r.forEach((d,m)=>{const v=d.tags&&d.tags.length?d.tags.join(", "):"general";p.text(`${f(d.createdAt).format("MMM D, YYYY HH:mm")} - ${v}`,10,20+m*10),p.text(d.text,10,30+m*10)}),p.save("KindredEcho_Notes.pdf")}return e.jsx("div",{className:"device-center",children:e.jsxs("div",{className:"device",children:[e.jsxs("div",{className:"journal-hero",children:[e.jsx("h2",{children:"Daily Reflections"}),e.jsx("div",{className:"muted",children:i==="echo"?"A short reflective prompt to yourself":i==="circles"?"Prompts for sharing with your circle":"Your space to reflect and connect"})]}),e.jsxs("div",{className:"journal-card",children:[e.jsx("textarea",{value:a,onChange:n=>t(n.target.value),placeholder:"Write your reflection here...",className:"input",rows:4}),e.jsx("input",{value:s,onChange:n=>c(n.target.value),placeholder:"Tag (emotion, thought, event)",className:"input"}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:12},children:[e.jsx("button",{onClick:g,className:"cta",children:"Begin Your Journey"}),e.jsx("button",{onClick:l,style:{padding:".5rem .75rem",borderRadius:10},children:"Export"})]})]}),e.jsx("ul",{style:{marginTop:18,listStyle:"none",padding:0},children:r.map(n=>e.jsxs("li",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:f(n.createdAt).format("MMM D, HH:mm")}),e.jsx("div",{style:{background:"white",borderRadius:12,padding:12,boxShadow:"0 4px 10px rgba(16,24,40,0.04)",marginTop:6},children:n.text}),n.tags&&n.tags.length>0&&e.jsx("div",{style:{marginTop:6},children:e.jsxs("span",{className:"tag-pill",children:["#",n.tags[0]]})})]},n.id))})]})})}function _({onBack:i}){return e.jsx("main",{className:"circles-wrap",children:e.jsxs("div",{className:"circles-card",children:[e.jsx("div",{className:"circles-badge",children:"Coming Soon"}),e.jsxs("div",{children:[e.jsx(b,{className:"circles-hero-icon"}),e.jsx("h1",{className:"circles-title",children:"Connection Circles"}),e.jsx("p",{className:"circles-desc",children:"This space will soon allow you to share reflections, find empathy, and connect with others through shared experiences."}),e.jsxs(j.div,{className:"circles-quote",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx(N,{className:"circles-quote-icon"}),e.jsx("p",{className:"circles-quote-text",children:"“In the future, Circles will bring Kindred Echo’s heart to life — turning reflection into connection.”"})]}),e.jsx(j.button,{className:"circles-cta",whileHover:{scale:1.01},whileTap:{scale:.98},onClick:i,"aria-label":"Back to Feeling Page",children:"← Back to Feeling Page"})]})]})})}const k=o.lazy(()=>y(()=>import("./FeelingPage-BNt5yKAT.js"),__vite__mapDeps([2,3,1,4])));function E(){const[i,r]=o.useState("onboard"),[h,a]=o.useState(null);return i==="onboard"?e.jsx(R,{onStart:()=>r("select")}):i==="select"?e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"device-center",children:e.jsx("div",{className:"device journal-card",children:"Loading…"})}),children:e.jsx(k,{onSelect:t=>{t==="echo"?(r("journal"),a("echo")):(r("circles"),a("circles"))}})}):i==="journal"?e.jsx(T,{flow:h??void 0}):i==="circles"?e.jsx(_,{onBack:()=>r("select")}):null}S.createRoot(document.getElementById("root")).render(e.jsx(w.StrictMode,{children:e.jsx(E,{})}));
