const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-pdf-STHT49I_.js","assets/vendor-BlW9gNZz.js","assets/FeelingPage-nV5JIKSV.js","assets/vendor-react-maD3nEf5.js","assets/vendor-framer-motion-LOx_H9vA.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,R as v,a as b}from"./vendor-react-maD3nEf5.js";import{_ as y}from"./vendor-pdf-STHT49I_.js";import{$ as f}from"./vendor-BlW9gNZz.js";import{X as S}from"./vendor-dexie-BzTPWI4a.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function u(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=u(t);fetch(t.href,r)}})();function N({onStart:i,initial:s,visible:u=!0}){const[a,t]=o.useState(s?.fontSize??16),[r,c]=o.useState(s?.highContrast??!1),[h,m]=o.useState(s?.tts??!1);return e.jsx("div",{className:"device-center",children:e.jsx("div",{className:"device",style:{fontSize:a,fontFamily:"Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial",background:"var(--card)",borderRadius:"var(--rounded-device)",boxShadow:"0 10px 32px rgba(16,24,40,0.12)"},children:e.jsxs("div",{className:"journal-card",style:{borderRadius:20,boxShadow:"0 6px 24px rgba(16,24,40,0.10)",padding:"2.5rem 2rem",maxWidth:380,margin:"0 auto"},children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,margin:0,letterSpacing:"-0.5px",fontFamily:"inherit"},children:"Welcome to Kindred Echo"}),e.jsx("p",{className:"muted",style:{marginTop:10,fontSize:"1.1rem",fontWeight:500,letterSpacing:"-0.1px"},children:"Your space to reflect and connect"}),e.jsxs("div",{style:{marginTop:28,display:"grid",gap:18},children:[e.jsxs("label",{style:{display:"block",marginBottom:0},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:500},children:"Font size"}),e.jsx("input",{type:"range",min:14,max:24,value:a,onChange:l=>t(Number(l.target.value)),style:{width:"100%",accentColor:"var(--accent)",height:4,borderRadius:8}})]}),e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,padding:"6px 0"},children:[e.jsx("span",{style:{fontWeight:500},children:"High contrast"}),e.jsx("input",{type:"checkbox",checked:r,onChange:l=>c(l.target.checked),style:{width:20,height:20,accentColor:"var(--accent)"}})]}),e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,padding:"6px 0"},children:[e.jsx("span",{style:{fontWeight:500},children:"Text-to-speech"}),e.jsx("input",{type:"checkbox",checked:h,onChange:l=>m(l.target.checked),style:{width:20,height:20,accentColor:"var(--accent-2)"}})]})]}),e.jsx("div",{style:{marginTop:32,textAlign:"center"},children:e.jsx("button",{onClick:()=>i({fontSize:a,highContrast:r,tts:h}),className:"cta",style:{fontSize:"1.1rem",borderRadius:14,fontWeight:700,boxShadow:"0 2px 8px rgba(247,198,191,0.18)",padding:"1rem 2.2rem",letterSpacing:"0.01em",border:"none",outline:"none",margin:0,cursor:"pointer",transition:"background 0.15s"},children:"Begin Your Journey"})})]})})})}const x=new S("kindred_echo_db");x.version(1).stores({notes:"id, createdAt"});function w({flow:i}){const[s,u]=o.useState([]),[a,t]=o.useState(""),[r,c]=o.useState("");o.useEffect(()=>{h()},[]);async function h(){const n=await x.notes.toArray();u(n.reverse())}async function m(){a.trim()&&(await x.notes.add({id:crypto.randomUUID(),text:a,tags:r?[r]:[],createdAt:new Date().toISOString()}),t(""),c(""),h())}async function l(){const{jsPDF:n}=await y(async()=>{const{jsPDF:d}=await import("./vendor-pdf-STHT49I_.js").then(g=>g.j);return{jsPDF:d}},__vite__mapDeps([0,1])),p=new n;s.forEach((d,g)=>{const j=d.tags&&d.tags.length?d.tags.join(", "):"general";p.text(`${f(d.createdAt).format("MMM D, YYYY HH:mm")} - ${j}`,10,20+g*10),p.text(d.text,10,30+g*10)}),p.save("KindredEcho_Notes.pdf")}return e.jsx("div",{className:"device-center",children:e.jsxs("div",{className:"device",children:[e.jsxs("div",{className:"journal-hero",children:[e.jsx("h2",{children:"Daily Reflections"}),e.jsx("div",{className:"muted",children:i==="echo"?"A short reflective prompt to yourself":i==="circles"?"Prompts for sharing with your circle":"Your space to reflect and connect"})]}),e.jsxs("div",{className:"journal-card",children:[e.jsx("textarea",{value:a,onChange:n=>t(n.target.value),placeholder:"Write your reflection here...",className:"input",rows:4}),e.jsx("input",{value:r,onChange:n=>c(n.target.value),placeholder:"Tag (emotion, thought, event)",className:"input"}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:12},children:[e.jsx("button",{onClick:m,className:"cta",children:"Begin Your Journey"}),e.jsx("button",{onClick:l,style:{padding:".5rem .75rem",borderRadius:10},children:"Export"})]})]}),e.jsx("ul",{style:{marginTop:18,listStyle:"none",padding:0},children:s.map(n=>e.jsxs("li",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:f(n.createdAt).format("MMM D, HH:mm")}),e.jsx("div",{style:{background:"white",borderRadius:12,padding:12,boxShadow:"0 4px 10px rgba(16,24,40,0.04)",marginTop:6},children:n.text}),n.tags&&n.tags.length>0&&e.jsx("div",{style:{marginTop:6},children:e.jsxs("span",{className:"tag-pill",children:["#",n.tags[0]]})})]},n.id))})]})})}const C=o.lazy(()=>y(()=>import("./FeelingPage-nV5JIKSV.js"),__vite__mapDeps([2,3,1,4])));function _(){const[i,s]=o.useState("onboard"),[u,a]=o.useState(null);return i==="onboard"?e.jsx(N,{onStart:()=>s("select")}):i==="select"?e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"device-center",children:e.jsx("div",{className:"device journal-card",children:"Loading…"})}),children:e.jsx(C,{onSelect:t=>{t==="echo"?(s("journal"),a("echo")):(s("circles"),a("circles"))}})}):i==="journal"?e.jsx(w,{flow:u??void 0}):i==="circles"?e.jsx("main",{className:"device-center",children:e.jsx("div",{className:"device journal-card",style:{minHeight:400,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("h2",{children:"Circles — Coming Soon!"})})}):null}v.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(_,{})}));
